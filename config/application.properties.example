# =============================================================================
# Debezium Server - Informix CDC Configuration
# =============================================================================
# Las credenciales de conexion se inyectan via variables de entorno
# definidas en el fichero .env (ver .env.example como plantilla).
# Quarkus (base de Debezium Server) resuelve ${VAR} automaticamente.
# =============================================================================

# --- Sink: Kafka ---
debezium.sink.type=kafka
debezium.sink.kafka.producer.bootstrap.servers=kafka:29092
debezium.sink.kafka.producer.key.serializer=org.apache.kafka.common.serialization.StringSerializer
debezium.sink.kafka.producer.value.serializer=org.apache.kafka.common.serialization.StringSerializer

# --- Source: Informix ---
debezium.source.connector.class=io.debezium.connector.informix.InformixConnector
debezium.source.database.hostname=${DB_HOSTNAME}
debezium.source.database.port=${DB_PORT}
debezium.source.database.user=${DB_USER}
debezium.source.database.password=${DB_PASSWORD}
debezium.source.database.dbname=${DB_NAME}
debezium.source.topic.prefix=informix
debezium.source.table.include.list=testdb.informix.ctercero,testdb.informix.cterdire,testdb.informix.gproveed
# --- Snapshot mode ---
# Options: initial, initial_only, no_data, never, recovery, when_needed
debezium.source.snapshot.mode=initial

# --- Offset storage (file-based) ---
debezium.source.offset.storage.file.filename=/debezium/data/offsets.dat
debezium.source.offset.flush.interval.ms=60000

# --- Schema history (file-based) ---
debezium.source.schema.history.internal=io.debezium.storage.file.history.FileSchemaHistory
debezium.source.schema.history.internal.file.filename=/debezium/data/schema-history.dat

# --- Format ---
debezium.format.key=json
debezium.format.value=json

# --- Quarkus / Server ---
quarkus.http.port=8080
quarkus.log.level=INFO
quarkus.log.category."io.debezium".level=INFO

# Suppress JDBC connection string logging (may contain password)
quarkus.log.category."com.informix".level=WARN
quarkus.log.category."com.ibm.informix".level=WARN
